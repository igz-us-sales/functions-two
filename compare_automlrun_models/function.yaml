kind: job
metadata:
  name: compare-automlrun-models
  tag: ''
  hash: 73ccc664ee3e520cf52288b45f84fb1deea9fc32
  project: compare-models
spec:
  command: ''
  args: []
  image: ''
  build:
    functionSourceCode: aW1wb3J0IHRpbWUKZnJvbSB0eXBpbmcgaW1wb3J0IERpY3QKCmltcG9ydCBjbG91ZHBpY2tsZQppbXBvcnQgbWxydW4KZnJvbSBtbHJ1bi5mcmFtZXdvcmtzLmF1dG9fbWxydW4uYXV0b19tbHJ1biBpbXBvcnQgQXV0b01MUnVuCmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgcGFuZGFzIGFzIHBkCmZyb20gdGVuc29yZmxvdyBpbXBvcnQga2VyYXMKZnJvbSBldmlkZW50bHkuZGFzaGJvYXJkIGltcG9ydCBEYXNoYm9hcmQKZnJvbSBldmlkZW50bHkuZGFzaGJvYXJkLnRhYnMgaW1wb3J0IFByb2JDbGFzc2lmaWNhdGlvblBlcmZvcm1hbmNlVGFiCmZyb20gZXZpZGVudGx5Lm1vZGVsX3Byb2ZpbGUgaW1wb3J0IFByb2ZpbGUKZnJvbSBldmlkZW50bHkubW9kZWxfcHJvZmlsZS5zZWN0aW9ucyBpbXBvcnQgUHJvYkNsYXNzaWZpY2F0aW9uUGVyZm9ybWFuY2VQcm9maWxlU2VjdGlvbgpmcm9tIGV2aWRlbnRseS5waXBlbGluZS5jb2x1bW5fbWFwcGluZyBpbXBvcnQgQ29sdW1uTWFwcGluZwoKQ09NUEFSSVNPTl9NRVRSSUNTID0gewogICAgImFjY3VyYWN5IiA6ICJsYXJnZXN0IiwKICAgICJwcmVjaXNpb24iIDogImxhcmdlc3QiLAogICAgInJlY2FsbCIgOiAibGFyZ2VzdCIsCiAgICAiZjEiIDogImxhcmdlc3QiLAogICAgInJvY19hdWMiIDogImxhcmdlc3QiLAogICAgImxvZ19sb3NzIiA6ICJzbWFsbGVzdCIKfQoKRVZJREVOVExZX01PREVMX05BTUVTID0gWyJyZWZlcmVuY2UiLCAiY3VycmVudCJdCgoKZGVmIGxvYWRfbW9kZWxzKHJlZmVyZW5jZV9tb2RlbF9wYXRoOiBtbHJ1bi5EYXRhSXRlbSwgY3VycmVudF9tb2RlbF9wYXRoOiBtbHJ1bi5EYXRhSXRlbSkgLT4gdHVwbGU6CiAgICAiIiIKICAgIExvYWQgcmVmZXJlbmNlIGFuZCBjdXJyZW50IG1vZGVsIGZyb20gbG9jYWwvcmVtb3RlIGxvY2F0aW9ucy4KCiAgICA6cGFyYW0gcmVmZXJlbmNlX21vZGVsX3BhdGg6IFBhdGggdG8gcmVmZXJlbmNlIG1vZGVsLgogICAgOnBhcmFtIGN1cnJlbnRfbW9kZWxfcGF0aDogICBQYXRoIHRvIGN1cnJlbnQgbW9kZWwuCgogICAgOnJldHVybjogUmVmZXJlbmNlIGFuZCBjdXJyZW50IG1vZGVscy4KICAgICIiIgogICAgcmVmZXJlbmNlX21vZGVsID0gQXV0b01MUnVuLmxvYWRfbW9kZWwobW9kZWxfcGF0aD1yZWZlcmVuY2VfbW9kZWxfcGF0aC5hcnRpZmFjdF91cmwpLm1vZGVsCiAgICBjdXJyZW50X21vZGVsID0gQXV0b01MUnVuLmxvYWRfbW9kZWwobW9kZWxfcGF0aD1jdXJyZW50X21vZGVsX3BhdGguYXJ0aWZhY3RfdXJsKS5tb2RlbAoKICAgIHJldHVybiByZWZlcmVuY2VfbW9kZWwsIGN1cnJlbnRfbW9kZWwKCgpkZWYgZm9ybWF0X3ByZWRpY3Rpb25zKAogICAgWF90ZXN0OiBwZC5EYXRhRnJhbWUsCiAgICB5X3Rlc3Q6IHBkLkRhdGFGcmFtZSwKICAgIHJlZmVyZW5jZV9wcmVkczogcGQuRGF0YUZyYW1lLAogICAgY3VycmVudF9wcmVkczogcGQuRGF0YUZyYW1lLAogICAgY2xhc3NfbWFwcGluZ3M6IERpY3RbaW50LCBzdHJdLAogICAgdGFyZ2V0OiBzdHIgPSAidGFyZ2V0IiwKKSAtPiB0dXBsZToKICAgICIiIgogICAgRm9ybWF0IGRhdGEgYW5kIHByZWRpY3Rpb25zIGluIHRoZSByaWdodCBmb3JtYXQgZm9yIEV2aWRlbnRseSBhbmFseXNpcy4KCiAgICA6cGFyYW0gZGF0YTogICAgICAgICAgICBSYXcgaW5wdXQgZGF0YS4KICAgIDpwYXJhbSByZWZlcmVuY2VfcHJlZHM6IFByZWRpY3Rpb24gcHJvYmFzIHBlciBjbGFzcyBmb3IgdGhlIHJlZmVyZW5jZSBtb2RlbC4KICAgIDpwYXJhbSBjdXJyZW50X3ByZWRzOiAgIFByZWRpY3Rpb24gcHJvYmFzIHBlciBjbGFzcyBmb3IgdGhlIGN1cnJlbnQgbW9kZWwuCiAgICA6cGFyYW0gdGFyZ2V0OiAgICAgICAgICBOYW1lIG9mIHRhcmdldCB2YXJpYWJsZSBpbiBkYXRhc2V0LgogICAgOnBhcmFtIGNsYXNzX21hcHBpbmdzOiAgTWFwcGluZyBvZiBpbnRlZ2VyIG1vZGVsIG91dHB1dCB0byBjbGFzcyBuYW1lLgoKICAgIDpyZXR1cm46IEZvcm1hdHRlZCBwcmVkaWN0aW9ucyBmb3IgcmVmZXJlbmNlIGFuZCBjdXJyZW50IG1vZGVscy4KICAgICIiIgogICAgIyBSZXBsYWNlIG51bWVyaWNhbCB0YXJnZXRzIHdpdGggY2xhc3MgbmFtZXMKICAgIGRhdGEgPSBYX3Rlc3QuY29weSgpCiAgICBkYXRhW3RhcmdldF0gPSBbY2xhc3NfbWFwcGluZ3Nbc3RyKGkpXSBmb3IgaSBpbiB5X3Rlc3QuaWR4bWF4KGF4aXM9MSldCgogICAgIyBGb3JtYXQgcHJlZGljdGlvbnMgcGVyIG1vZGVsCiAgICByZWZlcmVuY2VfcHJlZHNfZm9ybWF0dGVkID0gcGQuY29uY2F0KFtkYXRhLCByZWZlcmVuY2VfcHJlZHNdLCBheGlzPTEpCiAgICBjdXJyZW50X3ByZWRzX2Zvcm1hdHRlZCA9IHBkLmNvbmNhdChbZGF0YSwgY3VycmVudF9wcmVkc10sIGF4aXM9MSkKCiAgICByZXR1cm4gcmVmZXJlbmNlX3ByZWRzX2Zvcm1hdHRlZCwgY3VycmVudF9wcmVkc19mb3JtYXR0ZWQKCgpkZWYgZ2VuZXJhdGVfaHRtbF9yZXBvcnQoCiAgICBjb250ZXh0OiBtbHJ1bi5NTENsaWVudEN0eCwKICAgIHJlZmVyZW5jZV9kYXRhOiBwZC5EYXRhRnJhbWUsCiAgICBjdXJyZW50X2RhdGE6IHBkLkRhdGFGcmFtZSwKICAgIGNvbHVtbl9tYXBwaW5nOiBDb2x1bW5NYXBwaW5nLAogICAgdmVyYm9zZV9sZXZlbDogaW50LAopIC0+IE5vbmU6CiAgICAiIiIKICAgIEdlbmVyYXRlIEhUTUwgcmVwb3J0IHdpdGggZXZhbHVhdGlvbiBtZXRyaWNzIGZvciBtb2RlbCBhbmQgZGF0YS4KCiAgICA6cGFyYW0gY29udGV4dDogICAgICAgIE1MUnVuIGNvbnRleHQuCiAgICA6cGFyYW0gcmVmZXJlbmNlX2RhdGE6IFByZWRpY3Rpb25zIGZvciByZWZlcmVuY2UgbW9kZWwgZm9ybWF0dGVkIGZvciBFdmlkZW50bHkKICAgIDpwYXJhbSBjdXJyZW50X2RhdGE6ICAgUHJlZGljdGlvbnMgZm9yIGN1cnJlbnQgbW9kZWwgZm9ybWF0dGVkIGZvciBFdmlkZW50bHkKICAgIDpwYXJhbSBjb2x1bW5fbWFwcGluZzogTWFwcGluZyBmb3IgY29sdW1ucyBhbmQgcHJlZGljdGlvbiB0YXJnZXQgZm9yIEV2aWRlbnRseQogICAgOnBhcmFtIHZlcmJvc2VfbGV2ZWw6ICBPcHRpb25hbCBwYXJhbWV0ZXIgdG8gaW5jbHVkZSBhZGRpdGlvbmFsIGVsZW1lbnRzIGluIEhUTUwKICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwb3J0IHN1Y2ggYXMgZGF0YSBxdWFsaXR5LCBjbGFzcyBkaXN0cmlidXRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgIFJPQyBjdXJ2ZSwgYW5kIFByZWNpc2lvbi1SZWNhbGwgY3VydmUuCiAgICAiIiIKICAgICMgR2VuZXJhdGUgSFRNTCByZXBvcnQKICAgIHByb2JfY2xhc3NpZmljYXRpb25fZGFzaGJvYXJkID0gRGFzaGJvYXJkKAogICAgICAgIHRhYnM9W1Byb2JDbGFzc2lmaWNhdGlvblBlcmZvcm1hbmNlVGFiKHZlcmJvc2VfbGV2ZWw9dmVyYm9zZV9sZXZlbCldCiAgICApCgogICAgcHJvYl9jbGFzc2lmaWNhdGlvbl9kYXNoYm9hcmQuY2FsY3VsYXRlKAogICAgICAgIHJlZmVyZW5jZV9kYXRhPXJlZmVyZW5jZV9kYXRhLAogICAgICAgIGN1cnJlbnRfZGF0YT1jdXJyZW50X2RhdGEsCiAgICAgICAgY29sdW1uX21hcHBpbmc9Y29sdW1uX21hcHBpbmcsCiAgICApCgogICAgIyBMb2cgSFRNTCByZXBvcnQKICAgIGh0bWxfcGF0aCA9IGYicHJvYl9jbGFzc2lmaWNhdGlvbl9kYXNoYm9hcmRfe2ludCh0aW1lLnRpbWUoKSl9Lmh0bWwiCiAgICBwcm9iX2NsYXNzaWZpY2F0aW9uX2Rhc2hib2FyZC5zYXZlKGh0bWxfcGF0aCkKICAgIGNvbnRleHQubG9nX2FydGlmYWN0KAogICAgICAgICJwcm9iX2NsYXNzaWZpY2F0aW9uX2Rhc2hib2FyZCIsCiAgICAgICAgbG9jYWxfcGF0aD1odG1sX3BhdGgsCiAgICApCgoKZGVmIGxvZ19tZXRyaWNzX2Jlc3RfbW9kZWwoCiAgICBjb250ZXh0OiBtbHJ1bi5NTENsaWVudEN0eCwKICAgIHJlZmVyZW5jZV9kYXRhOiBwZC5EYXRhRnJhbWUsCiAgICBjdXJyZW50X2RhdGE6IHBkLkRhdGFGcmFtZSwKICAgIGNvbHVtbl9tYXBwaW5nOiBDb2x1bW5NYXBwaW5nLAogICAgY29tcGFyaXNvbl9tZXRyaWM6IHN0ciwKKSAtPiBzdHI6CiAgICAiIiIKICAgIExvZyBldmFsdWF0aW9uIG1ldHJpY3MgcGVyIG1vZGVsIGFuZCBzcGVjaWZ5IGJlc3QgbW9kZWwgYmFzZWQKICAgIG9uIGNvbXBhcmlzb24gbWV0cmljCgogICAgOnBhcmFtIGNvbnRleHQ6ICAgICAgICAgICBNTFJ1biBjb250ZXh0LgogICAgOnBhcmFtIHJlZmVyZW5jZV9kYXRhOiAgICBQcmVkaWN0aW9ucyBmb3IgcmVmZXJlbmNlIG1vZGVsIGZvcm1hdHRlZCBmb3IgRXZpZGVudGx5CiAgICA6cGFyYW0gY3VycmVudF9kYXRhOiAgICAgIFByZWRpY3Rpb25zIGZvciBjdXJyZW50IG1vZGVsIGZvcm1hdHRlZCBmb3IgRXZpZGVudGx5CiAgICA6cGFyYW0gY29sdW1uX21hcHBpbmc6ICAgIE1hcHBpbmcgZm9yIGNvbHVtbnMgYW5kIHByZWRpY3Rpb24gdGFyZ2V0IGZvciBFdmlkZW50bHkKICAgIDpwYXJhbSBjb21wYXJpc29uX21ldHJpYzogRGVzaXJlZCBtZXRyaWMgdG8gY29tcGFyZSBtb2RlbHMuIEluY2x1ZGVzIGFjY3VyYWN5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVjaXNpb24sIHJlY2FsbCwgZjEsIHJvY19hdWMsIGFuZCBsb2dfbG9zcy4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICA6cmV0dXJuOiBCZXN0IG1vZGVsIC0gcmVmZXJlbmNlIG9yIGN1cnJlbnQKICAgICIiIgogICAgIyBDYWxjdWxhdGUgZXZhbHVhdGlvbiBtZXRyaWNzCiAgICBwcm9iX2NsYXNzaWZpY2F0aW9uX3Byb2ZpbGUgPSBQcm9maWxlKAogICAgICAgIHNlY3Rpb25zPVtQcm9iQ2xhc3NpZmljYXRpb25QZXJmb3JtYW5jZVByb2ZpbGVTZWN0aW9uKCldCiAgICApCgogICAgcHJvYl9jbGFzc2lmaWNhdGlvbl9wcm9maWxlLmNhbGN1bGF0ZSgKICAgICAgICByZWZlcmVuY2VfZGF0YT1yZWZlcmVuY2VfZGF0YSwKICAgICAgICBjdXJyZW50X2RhdGE9Y3VycmVudF9kYXRhLAogICAgICAgIGNvbHVtbl9tYXBwaW5nPWNvbHVtbl9tYXBwaW5nLAogICAgKQogICAgcHJvYl9jbGFzc2lmaWNhdGlvbl9tZXRyaWNzID0gcHJvYl9jbGFzc2lmaWNhdGlvbl9wcm9maWxlLm9iamVjdCgpWwogICAgICAgICJwcm9iYWJpbGlzdGljX2NsYXNzaWZpY2F0aW9uX3BlcmZvcm1hbmNlIgogICAgXVsiZGF0YSJdWyJtZXRyaWNzIl0KCiAgICAjIExvZyBtZXRyaWNzCiAgICBmb3IgbW9kZWwgaW4gRVZJREVOVExZX01PREVMX05BTUVTOgogICAgICAgIGZvciBtZXRyaWMgaW4gQ09NUEFSSVNPTl9NRVRSSUNTLmtleXMoKToKICAgICAgICAgICAgY29udGV4dC5sb2dfcmVzdWx0KAogICAgICAgICAgICAgICAgZiJ7bW9kZWx9X3ttZXRyaWN9IiwgcHJvYl9jbGFzc2lmaWNhdGlvbl9tZXRyaWNzW21vZGVsXVttZXRyaWNdCiAgICAgICAgICAgICkKICAgIAogICAgIyBSZXR1cm4gYmVzdCBtb2RlbCBiYXNlZCBvbiBjb21wYXJpc29uIG1ldHJpYwogICAgYmVzdF9tb2RlbCA9IGdldF9iZXN0X21vZGVsKAogICAgICAgIHJlZmVyZW5jZV9jb21wYXJpc29uX21ldHJpYz1jb250ZXh0LnJlc3VsdHNbZiJyZWZlcmVuY2Vfe2NvbXBhcmlzb25fbWV0cmljfSJdLAogICAgICAgIGN1cnJlbnRfY29tcGFyaXNvbl9tZXRyaWM9Y29udGV4dC5yZXN1bHRzW2YiY3VycmVudF97Y29tcGFyaXNvbl9tZXRyaWN9Il0sCiAgICAgICAgY29tcGFyaXNvbl9kaXJlY3Rpb249Q09NUEFSSVNPTl9NRVRSSUNTW2NvbXBhcmlzb25fbWV0cmljXQogICAgKQogICAgCiAgICBjb250ZXh0LmxvZ19yZXN1bHQoImJlc3RfbW9kZWwiLCBiZXN0X21vZGVsKQoKZGVmIGdldF9iZXN0X21vZGVsKAogICAgcmVmZXJlbmNlX2NvbXBhcmlzb25fbWV0cmljOiBmbG9hdCwKICAgIGN1cnJlbnRfY29tcGFyaXNvbl9tZXRyaWM6IGZsb2F0LAogICAgY29tcGFyaXNvbl9kaXJlY3Rpb246IHN0cgopIC0+IHN0cjoKICAgICIiIgogICAgRGV0ZXJtaW5lIGJlc3QgbW9kZWwgYmFzZWQgb24gdHdvIGNvbXBhcmlzb24gbWV0cmljcyBhbmQgYQogICAgY29tcGFyaXNvbiBkaXJlY3Rpb24KCiAgICA6cGFyYW0gcmVmZXJlbmNlX2NvbXBhcmlzb25fbWV0cmljOiBDb21wYXJpc29uIG1ldHJpYyB2YWx1ZSBmb3IgcmVmZXJlbmNlIG1vZGVsLgogICAgOnBhcmFtIGN1cnJlbnRfY29tcGFyaXNvbl9tZXRyaWM6ICAgQ29tcGFyaXNvbiBtZXRyaWMgdmFsdWUgZm9yIGN1cnJlbnQgbW9kZWwuCiAgICA6cGFyYW0gY29tcGFyaXNvbl9kaXJlY3Rpb246ICAgICAgICBXaGV0aGVyIHRoZSBtZXRyaWMgaXMgZGVzaXJlZCB0byBiZSBzbWFsbGVzdCBvciBsYXJnZXN0LgoKICAgIDpyZXR1cm46IEJlc3QgbW9kZWwgLSByZWZlcmVuY2Ugb3IgY3VycmVudAogICAgIiIiCiAgICBpZiBjb21wYXJpc29uX2RpcmVjdGlvbiA9PSAibGFyZ2VzdCI6CiAgICAgICAgcmV0dXJuICJyZWZlcmVuY2UiIGlmIHJlZmVyZW5jZV9jb21wYXJpc29uX21ldHJpYyA+PSBjdXJyZW50X2NvbXBhcmlzb25fbWV0cmljIGVsc2UgImN1cnJlbnQiCiAgICBlbGlmIGNvbXBhcmlzb25fZGlyZWN0aW9uID09ICJzbWFsbGVzdCI6CiAgICAgICAgcmV0dXJuICJyZWZlcmVuY2UiIGlmIHJlZmVyZW5jZV9jb21wYXJpc29uX21ldHJpYyA8PSBjdXJyZW50X2NvbXBhcmlzb25fbWV0cmljIGVsc2UgImN1cnJlbnQiCgpkZWYgbG9hZF9kYXRhKGRhdGE6IG1scnVuLkRhdGFJdGVtKToKICAgIGRhdGFfcGF0aCA9IGRhdGEudXJsLnJlcGxhY2UoInYzaW86Ly8iLCAiL3YzaW8iKQogICAgcmV0dXJuIG5wLmxvYWQoZGF0YV9wYXRoLCBhbGxvd19waWNrbGU9VHJ1ZSkKICAgIApkZWYgY29tcGFyZV9tb2RlbHMoCiAgICBjb250ZXh0OiBtbHJ1bi5NTENsaWVudEN0eCwKICAgIHJlZmVyZW5jZV9tb2RlbF9wYXRoOiBtbHJ1bi5EYXRhSXRlbSwKICAgIGN1cnJlbnRfbW9kZWxfcGF0aDogbWxydW4uRGF0YUl0ZW0sCiAgICBYX3Rlc3RfcGF0aDogbWxydW4uRGF0YUl0ZW0sCiAgICB5X3Rlc3RfcGF0aDogbWxydW4uRGF0YUl0ZW0sCiAgICBjbGFzc19tYXBwaW5nczogRGljdFtpbnQsIHN0cl0sCiAgICBjb21wYXJpc29uX21ldHJpYzogc3RyID0gImFjY3VyYWN5IiwKICAgIHRhcmdldDogc3RyID0gInRhcmdldCIsCiAgICB2ZXJib3NlX2xldmVsOiBpbnQgPSAwLAopIC0+IE5vbmU6CiAgICAiIiIKICAgIENvbXBhcmUgdHdvIGdpdmVuIG1vZGVscyB2aWEgRXZpZGVudGx5IHVzaW5nIGEgZ2l2ZW4gZGF0YXNldCBhbmQgb3V0cHV0CiAgICBldmFsdWF0aW9uIG1ldHJpY3MgYW5kIEhUTUwgcmVwb3J0LgoKICAgIDpwYXJhbSBjb250ZXh0OiAgICAgICAgICAgICAgTUxSdW4gY29udGV4dC4KICAgIDpwYXJhbSByZWZlcmVuY2VfbW9kZWxfcGF0aDogTG9jYWwgb3IgcmVtb3RlIHBhdGggdG8gcmVmZXJlbmNlIG1vZGVsIGZvciBjb21wYXJpc29uLgogICAgOnBhcmFtIGN1cnJlbnRfbW9kZWxfcGF0aDogICBMb2NhbCBvciByZW1vdGUgcGF0aCB0byBjdXJyZW50IG1vZGVsIGZvciBjb21wYXJpc29uLgogICAgOnBhcmFtIGRhdGFfcGF0aDogICAgICAgICAgICBMb2NhbCBvciByZW1vdGUgcGF0aCB0byBkYXRhIGZvciBtb2RlbCBjb21wYXJpc29uLgogICAgOnBhcmFtIHRhcmdldDogICAgICAgICAgICAgICBOYW1lIG9mIHRhcmdldCB2YXJpYWJsZSBpbiBkYXRhc2V0LgogICAgOnBhcmFtIGNsYXNzX21hcHBpbmdzOiAgICAgICBNYXBwaW5nIG9mIGludGVnZXIgbW9kZWwgb3V0cHV0IHRvIGNsYXNzIG5hbWUuCiAgICA6cGFyYW0gY29tcGFyaXNvbl9tZXRyaWM6ICAgIERlc2lyZWQgbWV0cmljIHRvIGNvbXBhcmUgbW9kZWxzLiBJbmNsdWRlcyBhY2N1cmFjeSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlY2lzaW9uLCByZWNhbGwsIGYxLCByb2NfYXVjLCBhbmQgbG9nX2xvc3MuCiAgICA6cGFyYW0gdmVyYm9zZV9sZXZlbDogICAgICAgIE9wdGlvbmFsIHBhcmFtZXRlciB0byBpbmNsdWRlIGFkZGl0aW9uYWwgZWxlbWVudHMgaW4gSFRNTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBvcnQgc3VjaCBhcyBkYXRhIHF1YWxpdHksIGNsYXNzIGRpc3RyaWJ1dGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUk9DIGN1cnZlLCBhbmQgUHJlY2lzaW9uLVJlY2FsbCBjdXJ2ZS4KICAgICIiIgogICAgCiAgICAjIENoZWNrIGZvciB2YWxpZCBldmFsdWF0aW9uX21ldHJpYwogICAgaWYgY29tcGFyaXNvbl9tZXRyaWMgbm90IGluIENPTVBBUklTT05fTUVUUklDUzoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKAogICAgICAgICAgICBmIkNvbXBhcmlzb24gbWV0cmljICd7Y29tcGFyaXNvbl9tZXRyaWN9JyBub3QgZm91bmQgaW4ge0NPTVBBUklTT05fTUVUUklDU30iCiAgICAgICAgKQoKICAgICMgUmVhZCBkYXRhCiAgICBYX3Rlc3QgPSBYX3Rlc3RfcGF0aC5hc19kZigpCiAgICB5X3Rlc3QgPSB5X3Rlc3RfcGF0aC5hc19kZigpCgogICAgIyBMb2FkIHJlZmVyZW5jZSBhbmQgY3VycmVudCBtb2RlbHMKICAgIHJlZmVyZW5jZV9tb2RlbCwgY3VycmVudF9tb2RlbCA9IGxvYWRfbW9kZWxzKAogICAgICAgIHJlZmVyZW5jZV9tb2RlbF9wYXRoPXJlZmVyZW5jZV9tb2RlbF9wYXRoLCBjdXJyZW50X21vZGVsX3BhdGg9Y3VycmVudF9tb2RlbF9wYXRoCiAgICApCgogICAgIyBHZXQgcHJlZGljdGlvbnMgcGVyIG1vZGVsCiAgICBjbGFzc19uYW1lcyA9IGxpc3QoY2xhc3NfbWFwcGluZ3MudmFsdWVzKCkpCiAgICByZWZlcmVuY2VfcHJlZHMgPSBwZC5EYXRhRnJhbWUoCiAgICAgICAgcmVmZXJlbmNlX21vZGVsLnByZWRpY3QoWF90ZXN0KSwgY29sdW1ucz1jbGFzc19uYW1lcwogICAgKQogICAgY3VycmVudF9wcmVkcyA9IHBkLkRhdGFGcmFtZSgKICAgICAgICBjdXJyZW50X21vZGVsLnByZWRpY3QoWF90ZXN0KSwgY29sdW1ucz1jbGFzc19uYW1lcwogICAgKQoKICAgICMgRm9ybWF0IHByZWRpY3Rpb25zIGZvciBFdmlkZW50bHkgYW5hbHlzaXMKICAgIHJlZmVyZW5jZV9wcmVkc19mb3JtYXR0ZWQsIGN1cnJlbnRfcHJlZHNfZm9ybWF0dGVkID0gZm9ybWF0X3ByZWRpY3Rpb25zKAogICAgICAgIFhfdGVzdD1YX3Rlc3QsCiAgICAgICAgeV90ZXN0PXlfdGVzdCwKICAgICAgICByZWZlcmVuY2VfcHJlZHM9cmVmZXJlbmNlX3ByZWRzLAogICAgICAgIGN1cnJlbnRfcHJlZHM9Y3VycmVudF9wcmVkcywKICAgICAgICBjbGFzc19tYXBwaW5ncz1jbGFzc19tYXBwaW5ncywKICAgICAgICB0YXJnZXQ9dGFyZ2V0CiAgICApCgogICAgIyBHZW5lcmF0ZSBtb2RlbCBjb21wYXJpc29uIEhUTUwgcmVwb3J0IHZpYSBFdmlkZW50bHkKICAgIGNvbHVtbl9tYXBwaW5nID0gQ29sdW1uTWFwcGluZygKICAgICAgICB0YXJnZXQ9dGFyZ2V0LCBwcmVkaWN0aW9uPWxpc3QoY2xhc3NfbWFwcGluZ3MudmFsdWVzKCkpCiAgICApCiAgICBnZW5lcmF0ZV9odG1sX3JlcG9ydCgKICAgICAgICBjb250ZXh0PWNvbnRleHQsCiAgICAgICAgcmVmZXJlbmNlX2RhdGE9cmVmZXJlbmNlX3ByZWRzX2Zvcm1hdHRlZCwKICAgICAgICBjdXJyZW50X2RhdGE9Y3VycmVudF9wcmVkc19mb3JtYXR0ZWQsCiAgICAgICAgY29sdW1uX21hcHBpbmc9Y29sdW1uX21hcHBpbmcsCiAgICAgICAgdmVyYm9zZV9sZXZlbD12ZXJib3NlX2xldmVsLAogICAgKQoKICAgICMgTG9nIGV2YWxhdXRpb24gbWV0cmljcyBhbmQgYmVzdCBtb2RlbCBhY2NvcmRpbmcgdG8gY29tcGFyaXNvbiBtZXRyaWMKICAgIGJlc3RfbW9kZWwgPSBsb2dfbWV0cmljc19iZXN0X21vZGVsKAogICAgICAgIGNvbnRleHQ9Y29udGV4dCwKICAgICAgICByZWZlcmVuY2VfZGF0YT1yZWZlcmVuY2VfcHJlZHNfZm9ybWF0dGVkLAogICAgICAgIGN1cnJlbnRfZGF0YT1jdXJyZW50X3ByZWRzX2Zvcm1hdHRlZCwKICAgICAgICBjb2x1bW5fbWFwcGluZz1jb2x1bW5fbWFwcGluZywKICAgICAgICBjb21wYXJpc29uX21ldHJpYz1jb21wYXJpc29uX21ldHJpYywKICAgICk=
    base_image: mlrun/ml-models:0.10.0
    commands:
    - python -m pip install evidently==0.1.49.dev0
    code_origin: https://github.com/igz-us-sales/functions.git#f5a29fc9d3aefe743945427fbacf9a39fde7816c:compare_automlrun_models.py
    origin_filename: compare_automlrun_models.py
  description: ''
  default_handler: compare_models
  disable_auto_mount: false
  env:
  - name: V3IO_API
    value: ''
  - name: V3IO_USERNAME
    value: ''
  - name: V3IO_ACCESS_KEY
    value: ''
  - name: V3IO_FRAMESD
    value: ''
  priority_class_name: igz-workload-medium
  affinity: null
verbose: false
